PanelComp.prototype=new BaseComponent;PanelComp.prototype.componentType="PANEL";function PanelComp(parent,name,left,top,width,height,position,title,attrArr,className,selfDefRender,expand){if (arguments.length==0) return;this.base=BaseComponent;this.base(name,left,top,width,height);parent.style.display="";this.parentOwner=parent;this.position=getString(position,"absolute");this.topPadding=20;this.bottomPadding=15;this.title=title;this.canExpand=true;if (attrArr !=null){this.topPadding=getInteger(attrArr.topPadding,this.topPadding);this.bottomPadding=getInteger(attrArr.bottomPadding,this.bottomPadding);this.flowmode=attrArr.flowmode;this.canExpand=getBoolean(attrArr.canExpand,this.canExpand);}this.className=getString(className,"panel_div");if(this.className=='small_panel_div'){this.topPadding=15;this.bottomPadding=0;}try{eval('this.selfDefRender = '+selfDefRender+';');}catch(e){this.selfDefRender=null;}this.expand=getBoolean(expand,true);this.create();};PanelComp.prototype.create=function(){var oThis=this;this.Div_gen=$ce("DIV");this.Div_gen.id=this.id;this.Div_gen.style.left=this.left+"px";this.Div_gen.style.top=this.top+"px";this.Div_gen.style.width="100%";if(!this.flowmode) this.Div_gen.style.height="100%";else this.Div_gen.style.minHeight="20px";this.Div_gen.style.position=this.position;this.Div_gen.className=this.className;this.titleDiv=$ce("DIV");this.titleDiv.className="title_div";this.dottaDiv=$ce("DIV");this.dottaDiv.className="panel_dotta";this.contentDiv=$ce("DIV");this.contentDiv.id=this.id+"_content";if(this.className=='small_panel_div'){this.contentDiv.style.position="relative";this.contentDiv.style.width="100%";this.contentDiv.style[ATTRFLOAT]="left";}this.contentDiv.className="content_div";this.titleDiv_img_left=$ce("DIV");if(this.canExpand){if(this.expand){this.titleDiv_img_left.className="img_left_div_col";this.titleDiv_img_left.expand=true;this.contentDiv.style.display="";}else{this.titleDiv_img_left.className="img_left_div_expand";this.titleDiv_img_left.expand=false;this.contentDiv.style.display="none";}this.titleDiv_img_left.onclick=function(e){if(this.expand){this.className="img_left_div_expand";this.expand=false;oThis.contentDiv.style.display="none";if(typeof(oThis.selfDefRender)=="function"){oThis.selfDefRender.call(oThis,oThis.customDiv,false);}}else{this.className="img_left_div_col";this.expand=true;oThis.contentDiv.style.display="";oThis.initByExpandState();if(typeof(oThis.selfDefRender)=="function"){oThis.selfDefRender.call(oThis,oThis.customDiv,true);}}adjustContainerFramesHeight();layoutInitFunc();};}this.titleDiv_title_left=$ce("DIV");this.titleDiv_title_left.className="panel_transparent_title_left_div";this.titleDiv_title_left.innerHTML=this.title;this.titleDiv_title_left.onclick=function(e){oThis.titleDiv_img_left.click();};this.customDiv=$ce("DIV");this.customDiv.className="panel_custom_right_div";this.titleDiv.appendChild(this.titleDiv_img_left);this.titleDiv.appendChild(this.titleDiv_title_left);this.titleDiv.appendChild(this.customDiv);this.Div_gen.appendChild(this.titleDiv);if(this.titleDiv_title_left.innerText){this.titleDiv.title=this.titleDiv_title_left.innerText;}else if(this.titleDiv_title_left.textContent){this.titleDiv.title=this.titleDiv_title_left.textContent;}else{this.titleDiv.title=this.title;}this.Div_gen.appendChild(this.dottaDiv);this.Div_gen.appendChild(this.contentDiv);if (this.parentOwner){var fc=getChildForType(this.parentOwner,"div",0);if(fc){this.contentDiv.appendChild(fc);}this.placeIn(this.parentOwner);}if(this.flowmode){if(window.editMode) this.contentDiv.style.minHeight="28px";else this.contentDiv.style.minHeight="2px";}else{addResizeEvent(this.Div_gen,function(){PanelComp.panelResize(oThis.id);});var currHeight=this.Div_gen.offsetHeight-30;if(currHeight>0) this.contentDiv.style.height=currHeight+"px";}if(this.topPadding !=null) this.Div_gen.style.marginTop=this.topPadding+"px";if(this.bottomPadding !=null) this.Div_gen.style.marginBottom=this.bottomPadding+"px";if(this.className=='small_panel_div'&&(this.titleDiv_img_left.offsetWidth>0 || this.titleDiv_title_left.offsetWidth>0)){this.titleDiv.style.width=this.titleDiv_img_left.offsetWidth+this.titleDiv_title_left.offsetWidth+20+"px";}if(typeof(this.selfDefRender)=="function"){this.selfDefRender.call(this,this.customDiv,this.expand);}var width=this.titleDiv.offsetWidth;var customWidth=this.customDiv.offsetWidth;if (width-30-customWidth-1>0){this.titleDiv_title_left.style.maxWidth=(width-30-customWidth-1)+"px";this.titleDiv_title_left.style.whiteSpace="nowrap";this.titleDiv_title_left.style.overflow="hidden";this.titleDiv_title_left.style.textOverflow="ellipsis";}};PanelComp.prototype.setTitle=function(title){this.titleDiv_title_left.innerHTML=title;if(this.className=='small_panel_div'&&(this.titleDiv_img_left.offsetWidth>0 || this.titleDiv_title_left.offsetWidth>0)){this.titleDiv.style.width=this.titleDiv_img_left.offsetWidth+this.titleDiv_title_left.offsetWidth+20+"px";this.dottaDiv.style.width=this.Div_gen.offsetWidth-this.titleDiv_img_left.offsetWidth-this.titleDiv_title_left.offsetWidth-20-5+"px";}};PanelComp.prototype.setExpand=function(expand){if(!this.canExpand) return;if(expand&&typeof(expand)=="boolean"){this.titleDiv_img_left.expand=!expand;this.titleDiv_img_left.onclick();}else{this.titleDiv_img_left.expand=true;this.titleDiv_img_left.onclick();}};PanelComp.prototype.setRenderTypeFunc=function(selfDefRender){if(typeof(selfDefRender)=="function"){selfDefRender.call(this,this.customDiv,this.expand);}};PanelComp.prototype.getContentDiv=function(){return this.contentDiv;};PanelComp.prototype.setContent=function(obj){this.contentDiv.appendChild(obj);};PanelComp.prototype.removeContent=function(obj){this.contentDiv.removeChild(obj);};PanelComp.prototype.setDisplay=function(display){this.parentOwner.style.display=display==true ? "block":"none";this.display=display;};PanelComp.prototype.setVisible=function(visible){this.parentOwner.style.visibility=visible==true ? "visible":"hidden";this.visible=visible;};PanelComp.panelResize=function(id){var panel=window.objects[id];PanelComp.prototype.adjustSelf.call(panel);};PanelComp.prototype.adjustSelf=function(){if(this.titleDiv.style.display=="none"){this.contentDiv.style.height=this.Div_gen.offsetHeight+'px';}else{var barHeight=30;if(this.Div_gen.offsetHeight !=null&&this.Div_gen.offsetHeight>parseInt(barHeight)){var height=this.Div_gen.offsetHeight-parseInt(barHeight);if (IS_IE7 || IS_IE8) height-=5;if (height>0) this.contentDiv.style.height=height+'px';}}};